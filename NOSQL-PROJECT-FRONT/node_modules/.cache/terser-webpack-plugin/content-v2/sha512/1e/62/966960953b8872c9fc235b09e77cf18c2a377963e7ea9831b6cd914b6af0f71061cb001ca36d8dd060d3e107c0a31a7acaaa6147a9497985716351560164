{"map":"{\"version\":3,\"sources\":[\"/home/achref/Documents/frontStage/src/app/demo/pages/authentication/authentication.service.ts\",\"/home/achref/Documents/frontStage/src/app/demo/pages/authentication/authentication.service.ts.pre-build-optimizer.js\"],\"names\":[\"__webpack_require__\",\"d\",\"__webpack_exports__\",\"AuthenticationService\",\"rxjs__WEBPACK_IMPORTED_MODULE_0__\",\"_environments_environment__WEBPACK_IMPORTED_MODULE_1__\",\"rxjs_operators__WEBPACK_IMPORTED_MODULE_2__\",\"_angular_core__WEBPACK_IMPORTED_MODULE_3__\",\"_angular_common_http__WEBPACK_IMPORTED_MODULE_4__\",\"_angular_router__WEBPACK_IMPORTED_MODULE_5__\",\"[object Object]\",\"httpClient\",\"router\",\"this\",\"currentUserSubject\",\"JSON\",\"parse\",\"localStorage\",\"getItem\",\"currentUser\",\"asObservable\",\"currentUserValue\",\"value\",\"username\",\"password\",\"post\",\"backUri\",\"pipe\",\"Object\",\"user\",\"setItem\",\"stringify\",\"next\",\"removeItem\",\"navigateByUrl\",\"ngInjectableDef\",\"factory\",\"token\",\"providedIn\"],\"mappings\":\"6FACAA,EAAAC,EAAAC,EAAA,KAAA,WAAA,OAAAC,KAAA,IAAAC,EAAAJ,EAAA,QAAAK,EAAAL,EAAA,QAAAM,EAAAN,EAAA,QAAAO,EAAAP,EAAA,QAAAQ,EAAAR,EAAA,QAAAS,EAAAT,EAAA,QASO,IAAAG,EAAA,YAAMA,EAGXO,YACYC,EACAC,GADAC,KAAAF,WAAAA,EACAE,KAAAD,OAAAA,EAEVC,KAAKC,mBAAqB,IAAIV,EAAA,EAAqBW,KAAKC,MAAMC,aAAaC,QAAQ,iBACnFL,KAAKM,YAAcN,KAAKC,mBAAmBM,eAE7CC,uBACE,OAAOR,KAAKC,mBAAmBQ,MAEjCZ,aAAaa,EAASC,GACpB,OAAOX,KAAKF,WAAWc,KAAUpB,EAAA,EAAYqB,QAAU,SAAU,CAACH,SAAAA,EAAUC,SAAAA,IAAWG,KAAKC,OAAAtB,EAAA,EAAAsB,CAAIC,IAC9FZ,aAAaa,QAAQ,cAAcf,KAAKgB,UAAUF,IAClDhB,KAAKC,mBAAmBkB,KAAKH,GACtBA,KAGXnB,SAASmB,GACP,OAAOhB,KAAKF,WAAWc,KAAUpB,EAAA,EAAYqB,QAAQ,YAAYG,GAEnEnB,SACEO,aAAagB,WAAW,eACxBpB,KAAKC,mBAAmBkB,KAAK,MAC7BnB,KAAKD,OAAOsB,cAAc,uBCF9B/B,EAAsBgC,gBAAkB5B,EAAA,gCAAsB,CAAE6B,QAAS,WAA2C,OAAO,IAAIjC,EAAsBI,EAAA,sBAAYC,EAAA,GAAgBD,EAAA,sBAAYE,EAAA,KAAgB4B,MAAOlC,EAAuBmC,WAAY,YDxBhP\",\"sourcesContent\":[\"import { Injectable } from '@angular/core';\\nimport {BehaviorSubject, Observable} from \\\"rxjs\\\";\\nimport {HttpClient} from \\\"@angular/common/http\\\";\\nimport {Router} from \\\"@angular/router\\\";\\nimport {environment} from \\\"../../../../environments/environment\\\";\\nimport {map} from \\\"rxjs/operators\\\";\\n\\n@Injectable({\\n  providedIn: 'root'\\n})\\nexport class AuthenticationService {\\n  private currentUserSubject : BehaviorSubject<any>;\\n  public currentUser: Observable<any>;\\n  constructor(\\n      private httpClient: HttpClient,\\n      private router: Router\\n  ) {\\n    this.currentUserSubject = new BehaviorSubject<any>(JSON.parse(localStorage.getItem('currentUser')));\\n    this.currentUser = this.currentUserSubject.asObservable();\\n  }\\n  public get currentUserValue(): any {\\n    return this.currentUserSubject.value;\\n  }\\n  authenticate(username,password) {\\n    return this.httpClient.post<any>(environment.backUri + '/login', {username, password}).pipe(map(user =>{\\n      localStorage.setItem('currentUser',JSON.stringify(user));\\n      this.currentUserSubject.next(user);\\n      return user;\\n    }));\\n  }\\n  register(user) {\\n    return this.httpClient.post<any>(environment.backUri+'/register',user);\\n  }\\n  logOut() {\\n    localStorage.removeItem('currentUser');\\n    this.currentUserSubject.next(null);\\n    this.router.navigateByUrl('/auth/sigin');\\n  }\\n}\\n\",\"import { BehaviorSubject } from \\\"rxjs\\\";\\nimport { HttpClient } from \\\"@angular/common/http\\\";\\nimport { Router } from \\\"@angular/router\\\";\\nimport { environment } from \\\"../../../../environments/environment\\\";\\nimport { map } from \\\"rxjs/operators\\\";\\nimport * as i0 from \\\"@angular/core\\\";\\nimport * as i1 from \\\"@angular/common/http\\\";\\nimport * as i2 from \\\"@angular/router\\\";\\nexport class AuthenticationService {\\n    constructor(httpClient, router) {\\n        this.httpClient = httpClient;\\n        this.router = router;\\n        this.currentUserSubject = new BehaviorSubject(JSON.parse(localStorage.getItem('currentUser')));\\n        this.currentUser = this.currentUserSubject.asObservable();\\n    }\\n    get currentUserValue() {\\n        return this.currentUserSubject.value;\\n    }\\n    authenticate(username, password) {\\n        return this.httpClient.post(environment.backUri + '/login', { username, password }).pipe(map(user => {\\n            localStorage.setItem('currentUser', JSON.stringify(user));\\n            this.currentUserSubject.next(user);\\n            return user;\\n        }));\\n    }\\n    register(user) {\\n        return this.httpClient.post(environment.backUri + '/register', user);\\n    }\\n    logOut() {\\n        localStorage.removeItem('currentUser');\\n        this.currentUserSubject.next(null);\\n        this.router.navigateByUrl('/auth/sigin');\\n    }\\n}\\nAuthenticationService.ngInjectableDef = i0.ɵɵdefineInjectable({ factory: function AuthenticationService_Factory() { return new AuthenticationService(i0.ɵɵinject(i1.HttpClient), i0.ɵɵinject(i2.Router)); }, token: AuthenticationService, providedIn: \\\"root\\\" });\\n\"]}","code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{\"2wCX\":function(e,t,r){\"use strict\";r.d(t,\"a\",(function(){return o}));var n=r(\"2Vo4\"),s=r(\"AytR\"),c=r(\"lJxs\"),i=r(\"8Y7J\"),u=r(\"IheW\"),a=r(\"iInd\");let o=(()=>{class e{constructor(e,t){this.httpClient=e,this.router=t,this.currentUserSubject=new n.a(JSON.parse(localStorage.getItem(\"currentUser\"))),this.currentUser=this.currentUserSubject.asObservable()}get currentUserValue(){return this.currentUserSubject.value}authenticate(e,t){return this.httpClient.post(s.a.backUri+\"/login\",{username:e,password:t}).pipe(Object(c.a)(e=>(localStorage.setItem(\"currentUser\",JSON.stringify(e)),this.currentUserSubject.next(e),e)))}register(e){return this.httpClient.post(s.a.backUri+\"/register\",e)}logOut(){localStorage.removeItem(\"currentUser\"),this.currentUserSubject.next(null),this.router.navigateByUrl(\"/auth/sigin\")}}return e.ngInjectableDef=i[\"\\u0275\\u0275defineInjectable\"]({factory:function(){return new e(i[\"\\u0275\\u0275inject\"](u.c),i[\"\\u0275\\u0275inject\"](a.o))},token:e,providedIn:\"root\"}),e})()}}]);","extractedComments":[]}